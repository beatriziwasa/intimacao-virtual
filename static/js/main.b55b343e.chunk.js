(this["webpackJsonpintimacao-automatizada-react"]=this["webpackJsonpintimacao-automatizada-react"]||[]).push([[0],{448:function(e,n){},708:function(e,n,t){},709:function(e,n,t){},762:function(e,n){},764:function(e,n){},798:function(e,n){},800:function(e,n){},832:function(e,n){},833:function(e,n){},838:function(e,n){},840:function(e,n){},847:function(e,n){},866:function(e,n){},929:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(682),c=t.n(i),r=(t(708),t(11)),l=t(1010),s=(t(709),t(44)),d=t(90),u=t(55),m=t.n(u),p=t(455),f=t.n(p),g=t(123),h=t(1003),b=t(253),j=t(3),O=t(263),v=t(687),x=function(){var e=Object(d.a)(Object(s.a)().mark((function e(n,t){var a,o,i,c,r,l,d;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1H3m_FNDvvfUdTKE3avTbb65heWbwEUff1WuAt_sw6Pw",a="0","dpaeroportofln@intimacaovirtual.iam.gserviceaccount.com","-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDnAnMzxK4BgTMO\\nl9QB30tY+NYKjdoKqjVgwhmsatnXE6hZ9kkwDo7wy/lbPVKDC00WKOn3/VLHSdMJ\\nO4qFrCrgK2B4dc//UQgohpbsfMHQ9JrycRJxm6bKlNx3elv7PIUo2Kj+P47415/c\\nZLdZg0Ys/MZTHKhgyBArD3K0lB067ch3DOJTnPcsSeGwmtlcCdCwqWET4KT8q62g\\n8ukabqcIsYS/BDwlOJ2BtaNe24IcE0E64YuFDUMpQJZBy0AecdknwCR9zlXnvjTj\\nFosXTZL332eM/d7T+hyCJ2ov3GPHFlaIMGdEGam1aQCOmld839X2+t4LcDd9WOfi\\n5g+H+VUdAgMBAAECggEAMJgJV8h1ugdNkDJL/KDWHr8pd0rjpP6s/8+UyvonHOEb\\ntuDiAGPvmaOuroy1wK8t5g1xOiNluFpFNFn8B6Zx1noJbw2JVXHcP3ogYVrVAnmR\\n5pH2iUNu0IqD3fY1RyIx+Keq1ODV2G6zSA8/qmq85lW9+lm66bDsBcLYJDhL9csM\\nx24OidB7EHolGfW54XDS2KYdfT0aK/92uDTe7z83MuuZ0EkFRTakKKOe0wFlV0o1\\ncFq3IRW/kMUSlUf6GdEjzpyvuMHj2aW2V32RsBvpA6AHkyR1x+g6kBAkIjAG7OIY\\nGkOtf/lOLE8RPBKvko4V8KTiiCh0kyw2XZT57jszgQKBgQD+hcAo6cwYtfaLf2Qy\\nvSMig4m32mJKPq9iT456CHwi2R3cwEn+z8d5DmZf3T9EvH8GvjeSKREAbVy64kYJ\\ni9qfrQHDRmVO3i4N9/zqLY4v3zCxXdIwQ131vxWYmVLOlwrw6VaeyEyrCGrOk6rp\\nzQFHAukG9EROqVUB0HKwrnC/EQKBgQDoWcGtDGReiYqIg4kaSZRWbSI4l/brRGYX\\nG0BGvB2zbJ5gNQvqseIFFMtuBNscHwCfwUHO8zycV04ywUKY2Lk2vFv99DIWYmhz\\nVA6TjIkuJQfJQIOStCbk+7GWa1d2H1mhe2yPtE/CS3FMQOgn4SjKU0dyf5aiO83x\\ns0/8aJwNTQKBgAG2crGTySzNZKhRpiH1RdxAmFelX43yWAnIUUQe9H7jiSDoJldR\\nnJ0C7MtuWLOktRIdi5AvOI8RLVOQnDoKN+FlL6LZwWrDcfnkFk6ZGeDWlqRK5lQu\\nz94MeB+7wGPlfkxatZuB64onF1jmg3rpRz3sFhdW43LIDuthNLRdqCKRAoGBANZT\\nfTEIPklqLCyy0LQ77SYv8yIrI2xvopBr5cWZ3vfUGN977yslvOyc+u3Yctkky+mR\\nVgf1HRLGAe8VkD33pBmWdHD0YYN+cQT5I5z9RMkZBW6iIPwhS8NrXKv5BiuCzaYE\\neOayF+SMvMzvDndC3eKMIVq/0I6EBfuPQRf+0vv9AoGAUVZznsLIq7lQDojK0IOl\\nPSRAyo4NGZQ/7bd5lNKr6hQgUIcc4CK8ao4UHS1+QsmBQ0ckGDsUphW/4THniZgF\\nrlGyCGqb/HkRTRJhUbDNnc9lxqmaDK+wmONgy058VGGahFwZL4VtP0gxrJHYR1dP\\nWLxnkBVaBF7VSRI+Mwo3EYs=\\n-----END PRIVATE KEY-----\\n",o=new v.GoogleSpreadsheet("1H3m_FNDvvfUdTKE3avTbb65heWbwEUff1WuAt_sw6Pw"),e.prev=5,e.next=8,o.useServiceAccountAuth({client_email:"dpaeroportofln@intimacaovirtual.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDnAnMzxK4BgTMO\\nl9QB30tY+NYKjdoKqjVgwhmsatnXE6hZ9kkwDo7wy/lbPVKDC00WKOn3/VLHSdMJ\\nO4qFrCrgK2B4dc//UQgohpbsfMHQ9JrycRJxm6bKlNx3elv7PIUo2Kj+P47415/c\\nZLdZg0Ys/MZTHKhgyBArD3K0lB067ch3DOJTnPcsSeGwmtlcCdCwqWET4KT8q62g\\n8ukabqcIsYS/BDwlOJ2BtaNe24IcE0E64YuFDUMpQJZBy0AecdknwCR9zlXnvjTj\\nFosXTZL332eM/d7T+hyCJ2ov3GPHFlaIMGdEGam1aQCOmld839X2+t4LcDd9WOfi\\n5g+H+VUdAgMBAAECggEAMJgJV8h1ugdNkDJL/KDWHr8pd0rjpP6s/8+UyvonHOEb\\ntuDiAGPvmaOuroy1wK8t5g1xOiNluFpFNFn8B6Zx1noJbw2JVXHcP3ogYVrVAnmR\\n5pH2iUNu0IqD3fY1RyIx+Keq1ODV2G6zSA8/qmq85lW9+lm66bDsBcLYJDhL9csM\\nx24OidB7EHolGfW54XDS2KYdfT0aK/92uDTe7z83MuuZ0EkFRTakKKOe0wFlV0o1\\ncFq3IRW/kMUSlUf6GdEjzpyvuMHj2aW2V32RsBvpA6AHkyR1x+g6kBAkIjAG7OIY\\nGkOtf/lOLE8RPBKvko4V8KTiiCh0kyw2XZT57jszgQKBgQD+hcAo6cwYtfaLf2Qy\\nvSMig4m32mJKPq9iT456CHwi2R3cwEn+z8d5DmZf3T9EvH8GvjeSKREAbVy64kYJ\\ni9qfrQHDRmVO3i4N9/zqLY4v3zCxXdIwQ131vxWYmVLOlwrw6VaeyEyrCGrOk6rp\\nzQFHAukG9EROqVUB0HKwrnC/EQKBgQDoWcGtDGReiYqIg4kaSZRWbSI4l/brRGYX\\nG0BGvB2zbJ5gNQvqseIFFMtuBNscHwCfwUHO8zycV04ywUKY2Lk2vFv99DIWYmhz\\nVA6TjIkuJQfJQIOStCbk+7GWa1d2H1mhe2yPtE/CS3FMQOgn4SjKU0dyf5aiO83x\\ns0/8aJwNTQKBgAG2crGTySzNZKhRpiH1RdxAmFelX43yWAnIUUQe9H7jiSDoJldR\\nnJ0C7MtuWLOktRIdi5AvOI8RLVOQnDoKN+FlL6LZwWrDcfnkFk6ZGeDWlqRK5lQu\\nz94MeB+7wGPlfkxatZuB64onF1jmg3rpRz3sFhdW43LIDuthNLRdqCKRAoGBANZT\\nfTEIPklqLCyy0LQ77SYv8yIrI2xvopBr5cWZ3vfUGN977yslvOyc+u3Yctkky+mR\\nVgf1HRLGAe8VkD33pBmWdHD0YYN+cQT5I5z9RMkZBW6iIPwhS8NrXKv5BiuCzaYE\\neOayF+SMvMzvDndC3eKMIVq/0I6EBfuPQRf+0vv9AoGAUVZznsLIq7lQDojK0IOl\\nPSRAyo4NGZQ/7bd5lNKr6hQgUIcc4CK8ao4UHS1+QsmBQ0ckGDsUphW/4THniZgF\\nrlGyCGqb/HkRTRJhUbDNnc9lxqmaDK+wmONgy058VGGahFwZL4VtP0gxrJHYR1dP\\nWLxnkBVaBF7VSRI+Mwo3EYs=\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")});case 8:return e.next=10,o.loadInfo();case 10:if(i=o.sheetsById[a],"incluir"!==n){e.next=17;break}return t.id=Math.floor(Date.now()*Math.random()/1e3),e.next=15,i.addRow(t);case 15:e.next=61;break;case 17:if("alterar"!==n){e.next=42;break}return e.next=20,i.getRows();case 20:c=e.sent,r=0;case 22:if(!(r<c.length)){e.next=40;break}if(c[r].id!==t.id){e.next=37;break}return c[r].nome=t.nome,c[r].telefone=t.telefone,c[r].classe=t.classe,c[r].crime=t.crime,c[r].tipoProcedimento=t.tipoProcedimento,c[r].codSISP=t.codSISP,c[r].anoProcedimento=t.anoProcedimento,c[r].numProcedimento=t.numProcedimento,c[r].dataAudiencia=t.dataAudiencia,c[r].horaAudiencia=t.horaAudiencia,e.next=36,c[r].save();case 36:return e.abrupt("break",40);case 37:r++,e.next=22;break;case 40:e.next=61;break;case 42:if("consultar"!==n){e.next=48;break}return e.next=45,i.getRows();case 45:return e.abrupt("return",e.sent);case 48:if("excluir"!==n){e.next=61;break}return e.next=51,i.getRows();case 51:l=e.sent,d=0;case 53:if(!(d<l.length)){e.next=61;break}if(l[d].id!==t){e.next=58;break}return e.next=57,l[d].delete();case 57:return e.abrupt("break",61);case 58:d++,e.next=53;break;case 61:e.next=67;break;case 63:e.prev=63,e.t0=e.catch(5),console.error("Error: ",e.t0),alert("Erro nesta opera\xe7\xe3o!");case 67:case"end":return e.stop()}}),e,null,[[5,63]])})));return function(n,t){return e.apply(this,arguments)}}(),A=function(e){return x("incluir",e)},I=function(e){return x("alterar",e)},S=function(){return x("consultar","")},E=function(e){return x("excluir",e)},C=t(391),w=t.n(C),y=t(173),P=t(2),k=function(e){Object(a.useEffect)((function(){i(e.intimacaoSelecionada),p(e.intimacaoSelecionada.tipoProcedimento),b(e.intimacaoSelecionada.classe),E(e.intimacaoSelecionada.id)}),[e.intimacaoSelecionada]);var n=Object(a.useState)({}),t=Object(r.a)(n,2),o=t[0],i=t[1],c=Object(a.useState)(""),l=Object(r.a)(c,2),u=l[0],p=l[1],f=Object(a.useState)(""),g=Object(r.a)(f,2),h=g[0],b=g[1],v=Object(a.useState)(),x=Object(r.a)(v,2),S=x[0],E=x[1],C=function(e){var n=e.target.name,t=e.target.value;i((function(e){return Object(O.a)(Object(O.a)({},e),{},Object(j.a)({},n,t))}))},k=function(){var e=Object(d.a)(Object(s.a)().mark((function e(n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),N();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=new w.a({clientId:"561133897816-97fr795j5br6v4gqqn273tl7fq3gdhef.apps.googleusercontent.com",apiKey:"AIzaSyDYXZ3cusYh8ZR4TZ7DN1VvVCeoA_93c50",scope:"https://www.googleapis.com/auth/calendar",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});function N(){return R.apply(this,arguments)}function R(){return(R=Object(d.a)(Object(s.a)().mark((function n(){var t,a,i,c,r,l;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={nome:o.nome,telefone:o.telefone,classe:h,crime:o.crime,tipoProcedimento:u,codSISP:o.codSISP,anoProcedimento:o.anoProcedimento,numProcedimento:o.numProcedimento,dataAudiencia:o.dataAudiencia,horaAudiencia:o.horaAudiencia,idCalendarEvent:o.idCalendarEvent,googleMeetLink:o.googleMeetLink},a=t.tipoProcedimento+" "+t.codSISP+"-"+t.anoProcedimento+"-"+t.numProcedimento+" - "+t.classe.substring(0,1)+" - "+t.nome,i=new Date(t.dataAudiencia+" "+t.horaAudiencia),c=new Date(i),r=new Date(c.setMinutes(c.getMinutes()+30)),l={summary:a,start:{dateTime:i},end:{dateTime:r},conferenceData:{createRequest:{requestId:"7qxalsvy0e",conferenceSolutionKey:{type:"hangoutsMeet"}}}},m.a.isNil(S)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"pt.brazilian#holiday@group.v.calendar.google.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"scandolara.pcsc@gmail.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?y.a.client.calendar.events.insert({calendarId:"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com",resource:l,conferenceDataVersion:1}).execute((function(n){alert("Inclus\xe3o no Google Calendar efetuada com sucesso!"),t.idCalendarEvent=n.id,t.googleMeetLink=n.hangoutLink,A(t).then((function(){alert("Intima\xe7\xe3o inclu\xedda com sucesso!"),e.buscarIntimacoes(),e.handleClose()})).catch((function(e){alert("Erro de inclus\xe3o no sistema de Intima\xe7\xe3o Virtual!")}))})).catch((function(e){alert("Erro de inclus\xe3o no Google Calendar!")})):alert("J\xe1 existe evento no calend\xe1rio para esse hor\xe1rio!")})).catch((function(e){console.log("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de oitivas) "+e)})):alert("J\xe1 existe evento na agenda do delegado para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (agenda do delegado)")})):alert("\xc9 feriado nessa data! \xc9 "+a.items[0].summary+"!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de feriados)")})):D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"pt.brazilian#holiday@group.v.calendar.google.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"scandolara.pcsc@gmail.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){var a=n.result;m.a.isEmpty(a.items)?D.updateEvent(l,t.idCalendarEvent,"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){alert("Altera\xe7\xe3o no Google Calendar efetuada com sucesso!"),t.id=S,I(t).then((function(){alert("Intima\xe7\xe3o alterada com sucesso!"),e.buscarIntimacoes(),e.handleClose()})).catch((function(e){alert("Erro de altera\xe7\xe3o no sistema de Intima\xe7\xe3o Virtual!")}))})).catch((function(e){alert("Erro de altera\xe7\xe3o no Google Calendar!")})):alert("J\xe1 existe evento no calend\xe1rio para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de oitivas)")})):alert("J\xe1 existe evento na agenda do delegado para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (agenda do delegado)")})):alert("\xc9 feriado nessa data! \xc9 "+a.items[0].summary+"!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de feriados)")}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(P.jsx)("form",{onSubmit:k,children:Object(P.jsxs)("fieldset",{children:[Object(P.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"nome",children:"Nome:"}),Object(P.jsx)("input",{type:"text",required:!0,id:"nome",name:"nome",size:"51",value:o.nome||"",onChange:C})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsxs)("label",{htmlFor:"telefone",children:["Fone: ",Object(P.jsx)("small",{children:"(apenas n\xfameros)"})]}),Object(P.jsx)("input",{type:"number",className:"no-arrow",required:!0,id:"telefone",name:"telefone",size:"16",value:o.telefone||"",onChange:C})]})]}),Object(P.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"classe",children:"Classe:"}),Object(P.jsxs)("select",{required:!0,id:"classe",name:"classe",value:h,onChange:function(e){b(e.target.value)},children:[Object(P.jsx)("option",{value:"",children:"Selecione"}),Object(P.jsx)("option",{value:"V\xedtima",children:"V\xedtima"}),Object(P.jsx)("option",{value:"Testemunha",children:"Testemunha"}),Object(P.jsx)("option",{value:"Autor",children:"Autor"}),Object(P.jsx)("option",{value:"Advogado",children:"Advogado"})]})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"crime",children:"Tipo de Crime:"}),Object(P.jsx)("input",{type:"text",required:!0,id:"crime",name:"crime",size:"27",value:o.crime||"",onChange:C})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"tipoProcedimento",children:"Tipo de Procedimento:"}),Object(P.jsxs)("select",{required:!0,id:"tipoProcedimento",name:"tipoProcedimento",value:u,onChange:function(e){p(e.target.value)},children:[Object(P.jsx)("option",{value:"",children:"Selecione"}),Object(P.jsx)("option",{value:"BO",children:"Boletim de Ocorr\xeancia"}),Object(P.jsx)("option",{value:"TC",children:"Termo Circunstanciado"}),Object(P.jsx)("option",{value:"IP",children:"Inqu\xe9rito Policial"}),Object(P.jsx)("option",{value:"APF",children:"Auto de Pris\xe3o em Flagrante"})]})]})]}),Object(P.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"codSISP",children:"Unidade:"}),Object(P.jsx)("input",{type:"text",required:!0,id:"codSISP",name:"codSISP",size:"20",value:o.codSISP||"",onChange:C})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"anoProcedimento",children:"Ano do Procedimento:"}),Object(P.jsx)("input",{type:"text",required:!0,id:"anoProcedimento",name:"anoProcedimento",size:"20",value:o.anoProcedimento||"",onChange:C})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"numProcedimento",children:"N\xfamero do Procedimento:"}),Object(P.jsx)("input",{type:"text",required:!0,id:"numProcedimento",name:"numProcedimento",size:"20",value:o.numProcedimento||"",onChange:C})]})]}),Object(P.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"dataAudiencia",children:"Data da Audi\xeancia:"}),Object(P.jsx)("input",{type:"date",required:!0,id:"dataAudiencia",name:"dataAudiencia",value:o.dataAudiencia||"",onChange:C})]}),Object(P.jsxs)("div",{className:"campo",children:[Object(P.jsx)("label",{htmlFor:"horaAudiencia",children:"Hora da Audi\xeancia:"}),Object(P.jsx)("input",{type:"time",required:!0,id:"horaAudiencia",name:"horaAudiencia",value:o.horaAudiencia||"",onChange:C})]})]}),Object(P.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(P.jsx)("div",{className:"campo",children:Object(P.jsx)("button",{type:"submit",className:"botao submit",children:"Salvar"})}),Object(P.jsx)("div",{className:"campo",children:Object(P.jsx)("button",{className:"botao-secundario",onClick:function(e){e.preventDefault(),i({}),b(""),p("")},children:"Limpar"})})]})]})})},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,backgroundColor:"#d3d3d3",border:"2px solid #000",boxShadow:24,p:4};function N(e){return Object(P.jsx)("div",{children:Object(P.jsx)(b.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(P.jsx)(l.a,{sx:D,children:Object(P.jsx)(k,{handleClose:e.handleClose,buscarIntimacoes:e.buscarIntimacoes,intimacaoSelecionada:e.intimacaoSelecionada})})})})}var R=function(){Object(a.useEffect)((function(){A()}),[]);var e=o.a.useState(!1),n=Object(r.a)(e,2),t=n[0],i=n[1],c=Object(a.useState)([]),l=Object(r.a)(c,2),u=l[0],p=l[1],b=Object(a.useState)({}),j=Object(r.a)(b,2),O=j[0],v=j[1],x=function(){return i(!0)},A=function(){S().then((function(e){for(var n=[],t=0;t<e.length;t++){var a="",o="";if(!m.a.isNil(e[t].dataAudiencia)){var i=e[t].dataAudiencia;o=(i=i.split("-"))[2].concat("/").concat(i[1]).concat("/").concat(i[0])}m.a.isNil(e[t].dataAudiencia)||m.a.isNil(e[t].horaAudiencia)?m.a.isNil(e[t].dataAudiencia)||(a=o):a=o.concat(" ").concat(e[t].horaAudiencia);var c="";m.a.isNil(e[t].tipoProcedimento)||(c=e[t].tipoProcedimento),m.a.isNil(e[t].codSISP)||(c=c.concat(" ").concat(e[t].codSISP)),m.a.isNil(e[t].anoProcedimento)||(c=c.concat(".").concat(e[t].anoProcedimento)),m.a.isNil(e[t].numProcedimento)||(c=c.concat(".").concat(e[t].numProcedimento));var r={id:e[t].id,nome:e[t].nome,telefone:e[t].telefone,classe:e[t].classe,crime:e[t].crime,tipoProcedimento:e[t].tipoProcedimento,codSISP:e[t].codSISP,anoProcedimento:e[t].anoProcedimento,numProcedimento:e[t].numProcedimento,dataAudiencia:e[t].dataAudiencia,horaAudiencia:e[t].horaAudiencia,dataHoraTabela:a,procedimentoTabela:c,idCalendarEvent:e[t].idCalendarEvent,googleMeetLink:e[t].googleMeetLink};n.push(r)}p(n)}))},I=new w.a({clientId:"561133897816-97fr795j5br6v4gqqn273tl7fq3gdhef.apps.googleusercontent.com",apiKey:"AIzaSyDYXZ3cusYh8ZR4TZ7DN1VvVCeoA_93c50",scope:"https://www.googleapis.com/auth/calendar",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});function C(){return(C=Object(d.a)(Object(s.a)().mark((function e(n,t){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:e.sent,E(n).then((function(){alert("Intima\xe7\xe3o exclu\xedda com sucesso!"),A()}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return k.apply(this,arguments)}function k(){return(k=Object(d.a)(Object(s.a)().mark((function e(n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I.deleteEvent(n,"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(e){return alert("Exclus\xe3o no Google Calendar efetuada com sucesso!"),0})).catch((function(e){return alert("Erro ao tentar excluir agenda da intima\xe7\xe3o no Google Calendar!"),1})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(e){var n=e;return(n=n.split("-"))[2].concat("/").concat(n[1]).concat("/").concat(n[0])},R=function(e,n){e.forEach((function(e){var t=e;t=t.replace(/[^\w\s]/gi,"").replace(/ /g,"");var a="".concat("https://wa.me","/").concat(t);n&&(a+="?text=".concat(encodeURI(n))),window.open(a)}))},T=Object(g.b)(),L=[{icon:"outgoing_mail",tooltip:"Enviar primeiro contato",onClick:function(e,n){return function(e){var n="Prezado(a) Sr(a). %NOME%, \n\n        A Delegacia de Prote\xe7\xe3o ao Turista (DPTUR) - Unidade Aeroporto, da Pol\xedcia Civil do Estado de Santa Catarina, entra em contato para fim de INTIM\xc1-LO(A) a prestar depoimento na condi\xe7\xe3o de %CLASSE% nos autos do %PROCEDIMENTO% n. %SISP%.%ANO_PROCED%.%N_PROCED%.\n        \n        O procedimento refere-se \xe0 apura\xe7\xe3o de suposto ato de %CRIME%.\n        \n        A data prevista para sua oitiva ser\xe1 em *%DATA% \xe0s %HORA%*.\n        \n        Tendo em vista a atual situa\xe7\xe3o pand\xeamica, estamos priorizando as oitivas atrav\xe9s de videoconfer\xeancia. Nesse caso, o(a) Sr(a). dever\xe1 conectar-se utilizando um computador com webcam e microfone ou telefone celular.\n        \n        Caso queira fazer-se acompanhar de advogado(a), o mesmo link poder\xe1 ser utilizado por seu(sua) procurador(a).\n        \n        *Para envio do link para videoconfer\xeancia, solicitamos que confirme o recebimento desta mensagem*.\n        \n        Para d\xfavidas, solicita\xe7\xe3o de c\xf3pias de documentos e demais informa\xe7\xf5es, favor utilizar exclusivamente o e-mail dpaeroporto@pc.sc.gov.br , com o assunto %PROCEDIMENTO% n. %SISP%.%ANO_PROCED%.%N_PROCED%.\n        \n        Atenciosamente,\n        DELEGACIA DE PROTE\xc7\xc3O AO TURISTA (DPTUR)\n        POL\xcdCIA CIVIL DO ESTADO DE SANTA CATARINA";n=(n=(n=(n=(n=(n=(n=(n=(n=n.replaceAll("%NOME%",e.nome)).replaceAll("%CLASSE%",e.classe.toLowerCase())).replaceAll("%CRIME%",e.crime.toLowerCase())).replaceAll("%PROCEDIMENTO%",e.tipoProcedimento)).replaceAll("%SISP%",e.codSISP)).replaceAll("%ANO_PROCED%",e.anoProcedimento)).replaceAll("%N_PROCED%",e.numProcedimento)).replaceAll("%DATA%",D(e.dataAudiencia))).replaceAll("%HORA%",e.horaAudiencia),R([e.telefone,"5548991843628"],n)}(n)}},{icon:"link",tooltip:"Enviar link",onClick:function(e,n){return function(e){var n="O link para acesso \xe0 videoconfer\xeancia \xe9 %GOOGLE_MEET_LINK%.\n        \n        O link ficar\xe1 ativo momentos antes da data e hora agendadas.\n        \n        Lembre-se que a audi\xeancia \xe9 um ato oficial, portanto, esteja em um ambiente silencioso e com conex\xe3o de internet est\xe1vel.\n        \n        Certifique-se, tamb\xe9m, que sua c\xe2mera e microfone estejam funcionando corretamente. De prefer\xeancia, use fones de ouvido.";n=n.replaceAll("%GOOGLE_MEET_LINK%",e.googleMeetLink),R([e.telefone],n)}(n)}},{icon:"event_repeat",tooltip:"Relembrar oitiva",onClick:function(e,n){return function(e){var n="Prezado(a) Sr(a). %NOME%, \n\n        Relembramos Vossa Senhoria da audi\xeancia marcada para a data de *%DATA% \xe0s %HORA%*.\n        \n        O link para acesso \xe0 videoconfer\xeancia \xe9 %GOOGLE_MEET_LINK%\n        \n        Atenciosamente,\n        DELEGACIA DE PROTE\xc7\xc3O AO TURISTA (DPTUR)\n        POL\xcdCIA CIVIL DO ESTADO DE SANTA CATARINA";n=(n=(n=(n=n.replaceAll("%NOME%",e.nome)).replaceAll("%DATA%",D(e.dataAudiencia))).replaceAll("%HORA%",e.horaAudiencia)).replaceAll("%GOOGLE_MEET_LINK%",e.googleMeetLink),R([e.telefone],n)}(n)}},{icon:"edit",tooltip:"Alterar",onClick:function(e,n){return function(e){v(e),x()}(n)}},{icon:"delete",tooltip:"Excluir",onClick:function(e,n){return window.confirm("Realmente deseja excluir esta intima\xe7\xe3o?")?function(e,n){return C.apply(this,arguments)}(n.id,n.idCalendarEvent):void 0}},{icon:"add_box",tooltip:"Incluir",position:"toolbar",onClick:function(){return v({}),void x()}}];return Object(P.jsxs)("div",{children:[Object(P.jsx)(h.a,{theme:T,children:Object(P.jsx)(f.a,{style:{background:"#e4dbb1"},title:"INTIMA\xc7\xd5ES",columns:[{title:"Nome",field:"nome",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Envolvimento",field:"classe",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Crime",field:"crime",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Procedimento",field:"procedimentoTabela",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Data Audi\xeancia",field:"dataHoraTabela",sorting:!1,cellStyle:{whiteSpace:"nowrap"}}],data:u,actions:L,options:{actionsColumnIndex:-1,paging:!1,tableLayout:"auto",headerStyle:{backgroundColor:"#dbca9e",color:"#000000",fontWeight:"bold",whiteSpace:"nowrap"},rowStyle:{backgroundColor:"#dbca9e",color:"#000000"}}})}),Object(P.jsx)(N,{open:t,handleClose:function(){return i(!1)},buscarIntimacoes:A,intimacaoSelecionada:O})]})},T=t(1005),L=t(1006),G=t(1007),K=t(1008),M=t(1011),B=t.p+"static/media/logo-policial-civil.46adb87e.png",q=Object(T.a)((function(){return{header:{backgroundColor:"lightgrey"},titulo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",textAlign:"left"},logo:{marginRight:"20px"},toolbar:{display:"flex",justifyContent:"space-between"}}}));function F(e){var n=q(),t=n.header,a=n.titulo,o=n.logo,i=n.toolbar,c=Object(P.jsx)("img",{alt:"Logo da PCSC",src:B,width:"35",height:"45",className:o}),r=Object(P.jsx)(G.a,{variant:"h6",component:"h1",className:a,children:"INTIMA\xc7\xc3O VIRTUAL - 11\xaa Delegacia de Pol\xedcia da Capital - DPTUR"}),l=function(){return Object(P.jsx)(K.a,{onClick:e.handleOpen,children:e.loggedIn?"Logout":"Login"})};return Object(P.jsx)("header",{children:Object(P.jsx)(M.a,{className:t,children:Object(P.jsxs)(L.a,{className:i,children:[c,r,l()]})})})}var V=t(392),H="561133897816-97fr795j5br6v4gqqn273tl7fq3gdhef.apps.googleusercontent.com";var Q=function(e){return Object(a.useEffect)((function(){y.a.load("client:auth2",(function(){y.a.client.init({clientId:H,scope:"https://www.googleapis.com/auth/userinfo.email  https://www.googleapis.com/auth/calendar"})}))}),[]),Object(P.jsx)("div",{className:"center",children:Object(P.jsx)(V.GoogleLogin,{clientId:H,buttonText:"Login",onSuccess:function(n){"beatriz.iwasa@gmail.com"===n.profileObj.email||"scandolara.pcsc@gmail.com"===n.profileObj.email||"dpaeroporto@pc.sc.gov.br"===n.profileObj.email||"beatriz-iwasa@pc.sc.gov.br"===n.profileObj.email?(e.handleUsuarioLogado(n.profileObj),e.handleLogin()):alert("Usu\xe1rio sem acesso! Entre em contato com o administrador do sistema de Intima\xe7\xe3o Virtual.")},onFailure:function(e){alert("Falha ao se autenticar!")},cookiePolicy:"single_host_origin",isSignedIn:!0})})},z="561133897816-97fr795j5br6v4gqqn273tl7fq3gdhef.apps.googleusercontent.com";var U=function(e){return Object(a.useEffect)((function(){y.a.load("client:auth2",(function(){y.a.client.init({clientId:z,scope:"email"})}))}),[]),Object(P.jsx)("div",{className:"center",children:Object(P.jsx)(V.GoogleLogout,{clientId:z,buttonText:"Logout",onLogoutSuccess:function(){alert("Logout feito com sucesso!"),e.handleLogout()}})})},Y=t(530),W=t(562),J=t(557),Z=t(559),_=t(547),X=t(116),$=t(563),ee=t(471);var ne=function(e){var n=e.open,t=e.loggedIn,i=e.handleClose,c=e.handleLogin,l=e.handleLogout,s=Object(a.useState)({}),d=Object(r.a)(s,2),u=d[0],m=d[1];return Object(P.jsxs)(_.a,{onClose:i,open:n,children:[Object(P.jsx)(Z.a,{children:"Dados do Usu\xe1rio:"}),Object(P.jsxs)(Y.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(P.jsxs)(W.a,{alignItems:"flex-start",children:[Object(P.jsx)($.a,{children:Object(P.jsx)(ee.a,{alt:"avatar",src:u.imageUrl,sx:{width:56,height:56}})}),Object(P.jsx)(J.a,{primary:Object(P.jsxs)(o.a.Fragment,{children:["\xa0\xa0\xa0Nome:",Object(P.jsx)(X.a,{style:{fontWeight:600},align:"center",children:u.name})]}),secondary:Object(P.jsxs)(o.a.Fragment,{children:["\xa0\xa0\xa0E-mail:",Object(P.jsx)(X.a,{style:{fontWeight:600},align:"center",children:u.email})]})})]}),Object(P.jsx)(W.a,{autoFocus:!0,button:!0,onClick:function(){return i()},children:t?Object(P.jsx)(U,{handleLogout:l}):Object(P.jsx)(Q,{handleLogin:c,handleUsuarioLogado:function(e){return m(e)}})})]})]})};var te=function(){var e=o.a.useState(!1),n=Object(r.a)(e,2),t=n[0],a=n[1],i=o.a.useState(!1),c=Object(r.a)(i,2),s=c[0],d=c[1];return Object(P.jsxs)("div",{className:"App",children:[Object(P.jsx)(F,{handleOpen:function(){return d(!0)},loggedIn:t}),t?Object(P.jsx)("div",{className:"content",children:Object(P.jsx)(l.a,{sx:{overflow:"auto"},children:Object(P.jsx)(l.a,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:Object(P.jsx)(R,{})})})}):Object(P.jsx)("div",{className:"center",children:Object(P.jsx)("img",{alt:"Logo da PCSC",src:B,width:"115",height:"145"})}),Object(P.jsx)(ne,{open:s,loggedIn:t,handleClose:function(){return d(!1)},handleLogin:function(){return a(!0)},handleLogout:function(){return a(!1)}})]})},ae=function(e){e&&e instanceof Function&&t.e(6).then(t.bind(null,1175)).then((function(n){var t=n.getCLS,a=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),o(e),i(e),c(e)}))};c.a.createRoot(document.getElementById("root")).render(Object(P.jsx)(o.a.StrictMode,{children:Object(P.jsx)(te,{})})),ae()}},[[929,1,2]]]);
//# sourceMappingURL=main.b55b343e.chunk.js.map