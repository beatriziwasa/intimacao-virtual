(this["webpackJsonpintimacao-automatizada-react"]=this["webpackJsonpintimacao-automatizada-react"]||[]).push([[0],{448:function(e,n){},708:function(e,n,a){},709:function(e,n,a){},762:function(e,n){},764:function(e,n){},798:function(e,n){},800:function(e,n){},832:function(e,n){},833:function(e,n){},838:function(e,n){},840:function(e,n){},847:function(e,n){},866:function(e,n){},929:function(e,n,a){"use strict";a.r(n);var t=a(0),o=a.n(t),i=a(682),c=a.n(i),r=(a(708),a(11)),l=a(1010),s=(a(709),a(44)),d=a(90),u=a(55),m=a.n(u),p=a(455),f=a.n(p),h=a(123),g=a(1003),b=a(252),O=a(3),j=a(262),v=a(687),x=function(){var e=Object(d.a)(Object(s.a)().mark((function e(n,a){var t,o,i,c,r,l,d;return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"1H3m_FNDvvfUdTKE3avTbb65heWbwEUff1WuAt_sw6Pw",t="0","dpaeroportofln@intimacaovirtual.iam.gserviceaccount.com","-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDnAnMzxK4BgTMO\\nl9QB30tY+NYKjdoKqjVgwhmsatnXE6hZ9kkwDo7wy/lbPVKDC00WKOn3/VLHSdMJ\\nO4qFrCrgK2B4dc//UQgohpbsfMHQ9JrycRJxm6bKlNx3elv7PIUo2Kj+P47415/c\\nZLdZg0Ys/MZTHKhgyBArD3K0lB067ch3DOJTnPcsSeGwmtlcCdCwqWET4KT8q62g\\n8ukabqcIsYS/BDwlOJ2BtaNe24IcE0E64YuFDUMpQJZBy0AecdknwCR9zlXnvjTj\\nFosXTZL332eM/d7T+hyCJ2ov3GPHFlaIMGdEGam1aQCOmld839X2+t4LcDd9WOfi\\n5g+H+VUdAgMBAAECggEAMJgJV8h1ugdNkDJL/KDWHr8pd0rjpP6s/8+UyvonHOEb\\ntuDiAGPvmaOuroy1wK8t5g1xOiNluFpFNFn8B6Zx1noJbw2JVXHcP3ogYVrVAnmR\\n5pH2iUNu0IqD3fY1RyIx+Keq1ODV2G6zSA8/qmq85lW9+lm66bDsBcLYJDhL9csM\\nx24OidB7EHolGfW54XDS2KYdfT0aK/92uDTe7z83MuuZ0EkFRTakKKOe0wFlV0o1\\ncFq3IRW/kMUSlUf6GdEjzpyvuMHj2aW2V32RsBvpA6AHkyR1x+g6kBAkIjAG7OIY\\nGkOtf/lOLE8RPBKvko4V8KTiiCh0kyw2XZT57jszgQKBgQD+hcAo6cwYtfaLf2Qy\\nvSMig4m32mJKPq9iT456CHwi2R3cwEn+z8d5DmZf3T9EvH8GvjeSKREAbVy64kYJ\\ni9qfrQHDRmVO3i4N9/zqLY4v3zCxXdIwQ131vxWYmVLOlwrw6VaeyEyrCGrOk6rp\\nzQFHAukG9EROqVUB0HKwrnC/EQKBgQDoWcGtDGReiYqIg4kaSZRWbSI4l/brRGYX\\nG0BGvB2zbJ5gNQvqseIFFMtuBNscHwCfwUHO8zycV04ywUKY2Lk2vFv99DIWYmhz\\nVA6TjIkuJQfJQIOStCbk+7GWa1d2H1mhe2yPtE/CS3FMQOgn4SjKU0dyf5aiO83x\\ns0/8aJwNTQKBgAG2crGTySzNZKhRpiH1RdxAmFelX43yWAnIUUQe9H7jiSDoJldR\\nnJ0C7MtuWLOktRIdi5AvOI8RLVOQnDoKN+FlL6LZwWrDcfnkFk6ZGeDWlqRK5lQu\\nz94MeB+7wGPlfkxatZuB64onF1jmg3rpRz3sFhdW43LIDuthNLRdqCKRAoGBANZT\\nfTEIPklqLCyy0LQ77SYv8yIrI2xvopBr5cWZ3vfUGN977yslvOyc+u3Yctkky+mR\\nVgf1HRLGAe8VkD33pBmWdHD0YYN+cQT5I5z9RMkZBW6iIPwhS8NrXKv5BiuCzaYE\\neOayF+SMvMzvDndC3eKMIVq/0I6EBfuPQRf+0vv9AoGAUVZznsLIq7lQDojK0IOl\\nPSRAyo4NGZQ/7bd5lNKr6hQgUIcc4CK8ao4UHS1+QsmBQ0ckGDsUphW/4THniZgF\\nrlGyCGqb/HkRTRJhUbDNnc9lxqmaDK+wmONgy058VGGahFwZL4VtP0gxrJHYR1dP\\nWLxnkBVaBF7VSRI+Mwo3EYs=\\n-----END PRIVATE KEY-----\\n",o=new v.GoogleSpreadsheet("1H3m_FNDvvfUdTKE3avTbb65heWbwEUff1WuAt_sw6Pw"),e.prev=5,e.next=8,o.useServiceAccountAuth({client_email:"dpaeroportofln@intimacaovirtual.iam.gserviceaccount.com",private_key:"-----BEGIN PRIVATE KEY-----\\nMIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQDnAnMzxK4BgTMO\\nl9QB30tY+NYKjdoKqjVgwhmsatnXE6hZ9kkwDo7wy/lbPVKDC00WKOn3/VLHSdMJ\\nO4qFrCrgK2B4dc//UQgohpbsfMHQ9JrycRJxm6bKlNx3elv7PIUo2Kj+P47415/c\\nZLdZg0Ys/MZTHKhgyBArD3K0lB067ch3DOJTnPcsSeGwmtlcCdCwqWET4KT8q62g\\n8ukabqcIsYS/BDwlOJ2BtaNe24IcE0E64YuFDUMpQJZBy0AecdknwCR9zlXnvjTj\\nFosXTZL332eM/d7T+hyCJ2ov3GPHFlaIMGdEGam1aQCOmld839X2+t4LcDd9WOfi\\n5g+H+VUdAgMBAAECggEAMJgJV8h1ugdNkDJL/KDWHr8pd0rjpP6s/8+UyvonHOEb\\ntuDiAGPvmaOuroy1wK8t5g1xOiNluFpFNFn8B6Zx1noJbw2JVXHcP3ogYVrVAnmR\\n5pH2iUNu0IqD3fY1RyIx+Keq1ODV2G6zSA8/qmq85lW9+lm66bDsBcLYJDhL9csM\\nx24OidB7EHolGfW54XDS2KYdfT0aK/92uDTe7z83MuuZ0EkFRTakKKOe0wFlV0o1\\ncFq3IRW/kMUSlUf6GdEjzpyvuMHj2aW2V32RsBvpA6AHkyR1x+g6kBAkIjAG7OIY\\nGkOtf/lOLE8RPBKvko4V8KTiiCh0kyw2XZT57jszgQKBgQD+hcAo6cwYtfaLf2Qy\\nvSMig4m32mJKPq9iT456CHwi2R3cwEn+z8d5DmZf3T9EvH8GvjeSKREAbVy64kYJ\\ni9qfrQHDRmVO3i4N9/zqLY4v3zCxXdIwQ131vxWYmVLOlwrw6VaeyEyrCGrOk6rp\\nzQFHAukG9EROqVUB0HKwrnC/EQKBgQDoWcGtDGReiYqIg4kaSZRWbSI4l/brRGYX\\nG0BGvB2zbJ5gNQvqseIFFMtuBNscHwCfwUHO8zycV04ywUKY2Lk2vFv99DIWYmhz\\nVA6TjIkuJQfJQIOStCbk+7GWa1d2H1mhe2yPtE/CS3FMQOgn4SjKU0dyf5aiO83x\\ns0/8aJwNTQKBgAG2crGTySzNZKhRpiH1RdxAmFelX43yWAnIUUQe9H7jiSDoJldR\\nnJ0C7MtuWLOktRIdi5AvOI8RLVOQnDoKN+FlL6LZwWrDcfnkFk6ZGeDWlqRK5lQu\\nz94MeB+7wGPlfkxatZuB64onF1jmg3rpRz3sFhdW43LIDuthNLRdqCKRAoGBANZT\\nfTEIPklqLCyy0LQ77SYv8yIrI2xvopBr5cWZ3vfUGN977yslvOyc+u3Yctkky+mR\\nVgf1HRLGAe8VkD33pBmWdHD0YYN+cQT5I5z9RMkZBW6iIPwhS8NrXKv5BiuCzaYE\\neOayF+SMvMzvDndC3eKMIVq/0I6EBfuPQRf+0vv9AoGAUVZznsLIq7lQDojK0IOl\\nPSRAyo4NGZQ/7bd5lNKr6hQgUIcc4CK8ao4UHS1+QsmBQ0ckGDsUphW/4THniZgF\\nrlGyCGqb/HkRTRJhUbDNnc9lxqmaDK+wmONgy058VGGahFwZL4VtP0gxrJHYR1dP\\nWLxnkBVaBF7VSRI+Mwo3EYs=\\n-----END PRIVATE KEY-----\\n".replace(/\\n/g,"\n")});case 8:return e.next=10,o.loadInfo();case 10:if(i=o.sheetsById[t],"incluir"!==n){e.next=17;break}return a.id=Math.floor(Date.now()*Math.random()/1e3),e.next=15,i.addRow(a);case 15:e.next=61;break;case 17:if("alterar"!==n){e.next=42;break}return e.next=20,i.getRows();case 20:c=e.sent,r=0;case 22:if(!(r<c.length)){e.next=40;break}if(c[r].id!==a.id){e.next=37;break}return c[r].nome=a.nome,c[r].telefone=a.telefone,c[r].classe=a.classe,c[r].crime=a.crime,c[r].tipoProcedimento=a.tipoProcedimento,c[r].codSISP=a.codSISP,c[r].anoProcedimento=a.anoProcedimento,c[r].numProcedimento=a.numProcedimento,c[r].dataAudiencia=a.dataAudiencia,c[r].horaAudiencia=a.horaAudiencia,e.next=36,c[r].save();case 36:return e.abrupt("break",40);case 37:r++,e.next=22;break;case 40:e.next=61;break;case 42:if("consultar"!==n){e.next=48;break}return e.next=45,i.getRows();case 45:return e.abrupt("return",e.sent);case 48:if("excluir"!==n){e.next=61;break}return e.next=51,i.getRows();case 51:l=e.sent,d=0;case 53:if(!(d<l.length)){e.next=61;break}if(l[d].id!==a){e.next=58;break}return e.next=57,l[d].delete();case 57:return e.abrupt("break",61);case 58:d++,e.next=53;break;case 61:e.next=67;break;case 63:e.prev=63,e.t0=e.catch(5),console.error("Error: ",e.t0),alert("Erro nesta opera\xe7\xe3o!");case 67:case"end":return e.stop()}}),e,null,[[5,63]])})));return function(n,a){return e.apply(this,arguments)}}(),A=function(e){return x("incluir",e)},S=function(e){return x("alterar",e)},I=function(){return x("consultar","")},E=function(e){return x("excluir",e)},P=a(391),C=a.n(P),y=a(2),w=function(e){Object(t.useEffect)((function(){i(e.intimacaoSelecionada),p(e.intimacaoSelecionada.tipoProcedimento),b(e.intimacaoSelecionada.classe),E(e.intimacaoSelecionada.id)}),[e.intimacaoSelecionada]);var n=Object(t.useState)({}),a=Object(r.a)(n,2),o=a[0],i=a[1],c=Object(t.useState)(""),l=Object(r.a)(c,2),u=l[0],p=l[1],f=Object(t.useState)(""),h=Object(r.a)(f,2),g=h[0],b=h[1],v=Object(t.useState)(),x=Object(r.a)(v,2),I=x[0],E=x[1],P=function(e){var n=e.target.name,a=e.target.value;i((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n,a))}))},w=function(){var e=Object(d.a)(Object(s.a)().mark((function e(n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),k();case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),D=new C.a({clientId:"561133897816-43fl2devkpiaohhdg4b0uf7gasap5m93.apps.googleusercontent.com",apiKey:"AIzaSyDX14O3LSBtoMqMqpvP7vQa7Gy9n6vN1X4",scope:"https://www.googleapis.com/auth/calendar",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});function k(){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(Object(s.a)().mark((function n(){var a,t,i,c,r,l;return Object(s.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a={nome:o.nome,telefone:o.telefone,classe:g,crime:o.crime,tipoProcedimento:u,codSISP:o.codSISP,anoProcedimento:o.anoProcedimento,numProcedimento:o.numProcedimento,dataAudiencia:o.dataAudiencia,horaAudiencia:o.horaAudiencia,idCalendarEvent:o.idCalendarEvent},t=a.tipoProcedimento+" "+a.numProcedimento+"/"+a.anoProcedimento+" - "+a.classe.substring(0,1)+" - "+a.nome,i=new Date(a.dataAudiencia+" "+a.horaAudiencia),c=new Date(i),r=new Date(c.setMinutes(c.getMinutes()+30)),l={summary:t,start:{dateTime:i},end:{dateTime:r}},m.a.isNil(I)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"pt.brazilian#holiday@group.v.calendar.google.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"scandolara.pcsc@gmail.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.createEvent(l,"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){alert("Inclus\xe3o no Google Calendar efetuada com sucesso!"),a.idCalendarEvent=n.result.id,A(a).then((function(){alert("Intima\xe7\xe3o inclu\xedda com sucesso!"),e.buscarIntimacoes(),e.handleClose()})).catch((function(e){alert("Erro de inclus\xe3o no sistema de Intima\xe7\xe3o Virtual!")}))})).catch((function(e){alert("Erro de inclus\xe3o no Google Calendar!")})):alert("J\xe1 existe evento no calend\xe1rio para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de oitivas)")})):alert("J\xe1 existe evento na agenda do delegado para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (agenda do delegado)")})):alert("\xc9 feriado nessa data! \xc9 "+t.items[0].summary+"!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de feriados)")})):D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"pt.brazilian#holiday@group.v.calendar.google.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"scandolara.pcsc@gmail.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.listEvents({timeMin:i.toISOString(),timeMax:r.toISOString()},"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){var t=n.result;m.a.isEmpty(t.items)?D.updateEvent(l,a.idCalendarEvent,"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(n){alert("Altera\xe7\xe3o no Google Calendar efetuada com sucesso!"),a.id=I,S(a).then((function(){alert("Intima\xe7\xe3o alterada com sucesso!"),e.buscarIntimacoes(),e.handleClose()})).catch((function(e){alert("Erro de altera\xe7\xe3o no sistema de Intima\xe7\xe3o Virtual!")}))})).catch((function(e){alert("Erro de altera\xe7\xe3o no Google Calendar!")})):alert("J\xe1 existe evento no calend\xe1rio para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de oitivas)")})):alert("J\xe1 existe evento na agenda do delegado para esse hor\xe1rio!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (agenda do delegado)")})):alert("\xc9 feriado nessa data! \xc9 "+t.items[0].summary+"!")})).catch((function(e){alert("Erro de listagem de eventos do Google Calendar! (calend\xe1rio de feriados)")}));case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return Object(y.jsx)("form",{onSubmit:w,children:Object(y.jsxs)("fieldset",{children:[Object(y.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"nome",children:"Nome:"}),Object(y.jsx)("input",{type:"text",required:!0,id:"nome",name:"nome",size:"51",value:o.nome||"",onChange:P})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"telefone",children:"Telefone:"}),Object(y.jsx)("input",{type:"tel",required:!0,id:"telefone",name:"telefone",size:"16",pattern:"[0-9]{2} [0-9]{2} [0-9]{5}-[0-9]{4}",placeholder:"55 XX XXXXX-XXXX",maxLength:"16",value:o.telefone||"",onChange:P}),Object(y.jsx)("small",{children:"Exemplo: 55 48 99999-9999"})]})]}),Object(y.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"classe",children:"Classe:"}),Object(y.jsxs)("select",{required:!0,id:"classe",name:"classe",value:g,onChange:function(e){b(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Selecione"}),Object(y.jsx)("option",{value:"V\xedtima",children:"V\xedtima"}),Object(y.jsx)("option",{value:"Testemunha",children:"Testemunha"}),Object(y.jsx)("option",{value:"Autor",children:"Autor"}),Object(y.jsx)("option",{value:"Advogado",children:"Advogado"})]})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"crime",children:"Tipo de Crime:"}),Object(y.jsx)("input",{type:"text",required:!0,id:"crime",name:"crime",size:"27",value:o.crime||"",onChange:P})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"tipoProcedimento",children:"Tipo de Procedimento:"}),Object(y.jsxs)("select",{required:!0,id:"tipoProcedimento",name:"tipoProcedimento",value:u,onChange:function(e){p(e.target.value)},children:[Object(y.jsx)("option",{value:"",children:"Selecione"}),Object(y.jsx)("option",{value:"BO",children:"Boletim de Ocorr\xeancia"}),Object(y.jsx)("option",{value:"TC",children:"Termo Circunstanciado"}),Object(y.jsx)("option",{value:"IP",children:"Inqu\xe9rito Policial"}),Object(y.jsx)("option",{value:"APF",children:"Auto de Pris\xe3o em Flagrante"})]})]})]}),Object(y.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"codSISP",children:"Unidade:"}),Object(y.jsx)("input",{type:"text",required:!0,id:"codSISP",name:"codSISP",size:"20",value:o.codSISP||"",onChange:P})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"anoProcedimento",children:"Ano do Procedimento:"}),Object(y.jsx)("input",{type:"text",required:!0,id:"anoProcedimento",name:"anoProcedimento",size:"20",value:o.anoProcedimento||"",onChange:P})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"numProcedimento",children:"N\xfamero do Procedimento:"}),Object(y.jsx)("input",{type:"text",required:!0,id:"numProcedimento",name:"numProcedimento",size:"20",value:o.numProcedimento||"",onChange:P})]})]}),Object(y.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"dataAudiencia",children:"Data da Audi\xeancia:"}),Object(y.jsx)("input",{type:"date",required:!0,id:"dataAudiencia",name:"dataAudiencia",value:o.dataAudiencia||"",onChange:P})]}),Object(y.jsxs)("div",{className:"campo",children:[Object(y.jsx)("label",{htmlFor:"horaAudiencia",children:"Hora da Audi\xeancia:"}),Object(y.jsx)("input",{type:"time",required:!0,id:"horaAudiencia",name:"horaAudiencia",value:o.horaAudiencia||"",onChange:P})]})]}),Object(y.jsxs)("fieldset",{className:"grupo",style:{display:"flex",justifyContent:"center"},children:[Object(y.jsx)("div",{className:"campo",children:Object(y.jsx)("button",{type:"submit",className:"botao submit",children:"Salvar"})}),Object(y.jsx)("div",{className:"campo",children:Object(y.jsx)("button",{className:"botao-secundario",onClick:function(e){e.preventDefault(),i({}),b(""),p("")},children:"Limpar"})})]})]})})},D={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:800,backgroundColor:"#d3d3d3",border:"2px solid #000",boxShadow:24,p:4};function k(e){return Object(y.jsx)("div",{children:Object(y.jsx)(b.a,{open:e.open,onClose:e.handleClose,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:Object(y.jsx)(l.a,{sx:D,children:Object(y.jsx)(w,{handleClose:e.handleClose,buscarIntimacoes:e.buscarIntimacoes,intimacaoSelecionada:e.intimacaoSelecionada})})})})}var N=function(){Object(t.useEffect)((function(){A()}),[]);var e=o.a.useState(!1),n=Object(r.a)(e,2),a=n[0],i=n[1],c=Object(t.useState)([]),l=Object(r.a)(c,2),u=l[0],p=l[1],b=Object(t.useState)({}),O=Object(r.a)(b,2),j=O[0],v=O[1],x=function(){return i(!0)},A=function(){I().then((function(e){for(var n=[],a=0;a<e.length;a++){var t="",o="";if(!m.a.isNil(e[a].dataAudiencia)){var i=e[a].dataAudiencia;o=(i=i.split("-"))[2].concat("/").concat(i[1]).concat("/").concat(i[0])}m.a.isNil(e[a].dataAudiencia)||m.a.isNil(e[a].horaAudiencia)?m.a.isNil(e[a].dataAudiencia)||(t=o):t=o.concat(" ").concat(e[a].horaAudiencia);var c="";m.a.isNil(e[a].tipoProcedimento)||(c=e[a].tipoProcedimento),m.a.isNil(e[a].codSISP)||(c=c.concat(" ").concat(e[a].codSISP)),m.a.isNil(e[a].anoProcedimento)||(c=c.concat(".").concat(e[a].anoProcedimento)),m.a.isNil(e[a].numProcedimento)||(c=c.concat(".").concat(e[a].numProcedimento));var r={id:e[a].id,nome:e[a].nome,telefone:e[a].telefone,classe:e[a].classe,crime:e[a].crime,tipoProcedimento:e[a].tipoProcedimento,codSISP:e[a].codSISP,anoProcedimento:e[a].anoProcedimento,numProcedimento:e[a].numProcedimento,dataAudiencia:e[a].dataAudiencia,horaAudiencia:e[a].horaAudiencia,dataHoraTabela:t,procedimentoTabela:c,idCalendarEvent:e[a].idCalendarEvent};n.push(r)}p(n)}))},S=new C.a({clientId:"561133897816-43fl2devkpiaohhdg4b0uf7gasap5m93.apps.googleusercontent.com",apiKey:"AIzaSyDX14O3LSBtoMqMqpvP7vQa7Gy9n6vN1X4",scope:"https://www.googleapis.com/auth/calendar",discoveryDocs:["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"]});function P(){return(P=Object(d.a)(Object(s.a)().mark((function e(n,a){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(a);case 2:e.sent,E(n).then((function(){alert("Intima\xe7\xe3o exclu\xedda com sucesso!"),A()}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return D.apply(this,arguments)}function D(){return(D=Object(d.a)(Object(s.a)().mark((function e(n){return Object(s.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",S.deleteEvent(n,"tpfgaifi5bf5lsfn089nlc607k@group.calendar.google.com").then((function(e){return alert("Exclus\xe3o no Google Calendar efetuada com sucesso!"),0})).catch((function(e){return alert("Erro ao tentar excluir agenda da intima\xe7\xe3o no Google Calendar!"),1})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var n=e;return(n=n.split("-"))[2].concat("/").concat(n[1]).concat("/").concat(n[0])},R=function(e,n){var a=e;a=a.replace(/[^\w\s]/gi,"").replace(/ /g,"");var t="".concat("https://wa.me","/").concat(a);n&&(t+="?text=".concat(encodeURI(n))),window.open(t)},T=Object(h.b)(),G=[{icon:"outgoing_mail",tooltip:"Enviar primeiro contato",onClick:function(e,n){return function(e){var n="Prezado(a) Sr(a). %NOME%, \n\n        A Delegacia de Prote\xe7\xe3o ao Turista (DPTUR) - Unidade Aeroporto, da Pol\xedcia Civil do Estado de Santa Catarina, entra em contato para fim de INTIM\xc1-LO(A) a prestar depoimento na condi\xe7\xe3o de %CLASSE% nos autos do %PROCEDIMENTO% n. %SISP%.%ANO_PROCED%.%N_PROCED%.\n        \n        O procedimento refere-se \xe0 apura\xe7\xe3o de suposto ato de %CRIME%.\n        \n        A data prevista para sua oitiva ser\xe1 em *%DATA% \xe0s %HORA%*.\n        \n        Tendo em vista a atual situa\xe7\xe3o pand\xeamica, estamos priorizando as oitivas atrav\xe9s de videoconfer\xeancia. Nesse caso, o(a) Sr(a). dever\xe1 conectar-se utilizando um computador com webcam e microfone ou telefone celular.\n        \n        Caso queira fazer-se acompanhar de advogado(a), o mesmo link poder\xe1 ser utilizado por seu(sua) procurador(a).\n        \n        *Para envio do link para videoconfer\xeancia, solicitamos que confirme o recebimento desta mensagem*.\n        \n        Para d\xfavidas, solicita\xe7\xe3o de c\xf3pias de documentos e demais informa\xe7\xf5es, favor utilizar exclusivamente o e-mail dpaeroporto@pc.sc.gov.br , com o assunto %PROCEDIMENTO% n. %SISP%.%ANO_PROCED%.%N_PROCED%.\n        \n        Atenciosamente,\n        DELEGACIA DE PROTE\xc7\xc3O AO TURISTA (DPTUR)\n        POL\xcdCIA CIVIL DO ESTADO DE SANTA CATARINA";n=(n=(n=(n=(n=(n=(n=(n=(n=n.replaceAll("%NOME%",e.nome)).replaceAll("%CLASSE%",e.classe.toLowerCase())).replaceAll("%CRIME%",e.crime.toLowerCase())).replaceAll("%PROCEDIMENTO%",e.tipoProcedimento)).replaceAll("%SISP%",e.codSISP)).replaceAll("%ANO_PROCED%",e.anoProcedimento)).replaceAll("%N_PROCED%",e.numProcedimento)).replaceAll("%DATA%",N(e.dataAudiencia))).replaceAll("%HORA%",e.horaAudiencia),R(e.telefone,n)}(n)}},{icon:"link",tooltip:"Enviar link",onClick:function(e,n){return function(e){var n="O link para acesso \xe0 videoconfer\xeancia \xe9 https://webconf.pc.sc.gov.br/dptur-%PROCEDIMENTO%-%SISP%-%N_PROCED%-%ANO_PROCED%\n\n        O link ficar\xe1 ativo momentos antes da data e hora agendadas.";n=(n=(n=(n=n.replaceAll("%PROCEDIMENTO%",e.tipoProcedimento)).replaceAll("%SISP%",e.codSISP)).replaceAll("%N_PROCED%",e.numProcedimento)).replaceAll("%ANO_PROCED%",e.anoProcedimento),R(e.telefone,n)}(n)}},{icon:"event_repeat",tooltip:"Relembrar oitiva",onClick:function(e,n){return function(e){var n="Prezado(a) Sr(a). %NOME%, \n\n        Relembramos Vossa Senhoria da audi\xeancia marcada para a data de *%DATA% \xe0s %HORA%*.\n        \n        O link para acesso \xe0 videoconfer\xeancia \xe9 https://webconf.pc.sc.gov.br/dptur-%SISP%-%N_PROCED%-%ANO_PROCED%\n        \n        Atenciosamente,\n        DELEGACIA DE PROTE\xc7\xc3O AO TURISTA (DPTUR)\n        POL\xcdCIA CIVIL DO ESTADO DE SANTA CATARINA";n=(n=(n=(n=(n=(n=n.replaceAll("%NOME%",e.nome)).replaceAll("%DATA%",N(e.dataAudiencia))).replaceAll("%HORA%",e.horaAudiencia)).replaceAll("%SISP%",e.codSISP)).replaceAll("%N_PROCED%",e.numProcedimento)).replaceAll("%ANO_PROCED%",e.anoProcedimento),R(e.telefone,n)}(n)}},{icon:"edit",tooltip:"Alterar",onClick:function(e,n){return function(e){v(e),x()}(n)}},{icon:"delete",tooltip:"Excluir",onClick:function(e,n){return window.confirm("Realmente deseja excluir esta intima\xe7\xe3o?")?function(e,n){return P.apply(this,arguments)}(n.id,n.idCalendarEvent):void 0}},{icon:"add_box",tooltip:"Incluir",position:"toolbar",onClick:function(){return v({}),void x()}}];return Object(y.jsxs)("div",{children:[Object(y.jsx)(g.a,{theme:T,children:Object(y.jsx)(f.a,{style:{background:"#e4dbb1"},title:"INTIMA\xc7\xd5ES",columns:[{title:"Nome",field:"nome",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Envolvimento",field:"classe",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Crime",field:"crime",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Procedimento",field:"procedimentoTabela",sorting:!1,cellStyle:{whiteSpace:"nowrap"}},{title:"Data Audi\xeancia",field:"dataHoraTabela",sorting:!1,cellStyle:{whiteSpace:"nowrap"}}],data:u,actions:G,options:{actionsColumnIndex:-1,paging:!1,tableLayout:"auto",headerStyle:{backgroundColor:"#dbca9e",color:"#000000",fontWeight:"bold",whiteSpace:"nowrap"},rowStyle:{backgroundColor:"#dbca9e",color:"#000000"}}})}),Object(y.jsx)(k,{open:a,handleClose:function(){return i(!1)},buscarIntimacoes:A,intimacaoSelecionada:j})]})},R=a(1005),T=a(1006),G=a(1007),L=a(1008),K=a(1011),B=a.p+"static/media/logo-policial-civil.46adb87e.png",M=Object(R.a)((function(){return{header:{backgroundColor:"lightgrey"},titulo:{fontFamily:"Work Sans, sans-serif",fontWeight:600,color:"black",textAlign:"left"},logo:{marginRight:"20px"},toolbar:{display:"flex",justifyContent:"space-between"}}}));function F(e){var n=M(),a=n.header,t=n.titulo,o=n.logo,i=n.toolbar,c=Object(y.jsx)("img",{alt:"Logo da PCSC",src:B,width:"35",height:"45",className:o}),r=Object(y.jsx)(G.a,{variant:"h6",component:"h1",className:t,children:"INTIMA\xc7\xc3O VIRTUAL - 11\xaa Delegacia de Pol\xedcia da Capital - DPTUR"}),l=function(){return Object(y.jsx)(L.a,{onClick:e.handleOpen,children:e.loggedIn?"Logout":"Login"})};return Object(y.jsx)("header",{children:Object(y.jsx)(K.a,{className:a,children:Object(y.jsxs)(T.a,{className:i,children:[c,r,l()]})})})}var V=a(392),Q=a(263),q="561133897816-43fl2devkpiaohhdg4b0uf7gasap5m93.apps.googleusercontent.com";var H=function(e){return Object(t.useEffect)((function(){Q.a.load("client:auth2",(function(){Q.a.client.init({clientId:q,scope:"email"})}))}),[]),Object(y.jsx)("div",{className:"center",children:Object(y.jsx)(V.GoogleLogin,{clientId:q,buttonText:"Login",onSuccess:function(n){"beatriz.iwasa@gmail.com"===n.profileObj.email||"dpaeroportofln@gmail.com"===n.profileObj.email||"scandolara.pcsc@gmail.com"===n.profileObj.email||"dpaeroporto@pc.sc.gov.br"===n.profileObj.email?(e.handleUsuarioLogado(n.profileObj),e.handleLogin()):alert("Usu\xe1rio sem acesso! Entre em contato com o administrador do sistema de Intima\xe7\xe3o Virtual.")},onFailure:function(e){alert("Falha ao se autenticar!")},cookiePolicy:"single_host_origin",isSignedIn:!0})})},z="561133897816-43fl2devkpiaohhdg4b0uf7gasap5m93.apps.googleusercontent.com";var U=function(e){return Object(t.useEffect)((function(){Q.a.load("client:auth2",(function(){Q.a.client.init({clientId:z,scope:"email"})}))}),[]),Object(y.jsx)("div",{className:"center",children:Object(y.jsx)(V.GoogleLogout,{clientId:z,buttonText:"Logout",onLogoutSuccess:function(){alert("Logout feito com sucesso!"),e.handleLogout()}})})},W=a(530),Y=a(562),J=a(557),Z=a(559),X=a(547),_=a(116),$=a(563),ee=a(471);var ne=function(e){var n=e.open,a=e.loggedIn,i=e.handleClose,c=e.handleLogin,l=e.handleLogout,s=Object(t.useState)({}),d=Object(r.a)(s,2),u=d[0],m=d[1];return Object(y.jsxs)(X.a,{onClose:i,open:n,children:[Object(y.jsx)(Z.a,{children:"Dados do Usu\xe1rio:"}),Object(y.jsxs)(W.a,{sx:{width:"100%",maxWidth:360,bgcolor:"background.paper"},children:[Object(y.jsxs)(Y.a,{alignItems:"flex-start",children:[Object(y.jsx)($.a,{children:Object(y.jsx)(ee.a,{alt:"avatar",src:u.imageUrl,sx:{width:56,height:56}})}),Object(y.jsx)(J.a,{primary:Object(y.jsxs)(o.a.Fragment,{children:["\xa0\xa0\xa0Nome:",Object(y.jsx)(_.a,{style:{fontWeight:600},align:"center",children:u.name})]}),secondary:Object(y.jsxs)(o.a.Fragment,{children:["\xa0\xa0\xa0E-mail:",Object(y.jsx)(_.a,{style:{fontWeight:600},align:"center",children:u.email})]})})]}),Object(y.jsx)(Y.a,{autoFocus:!0,button:!0,onClick:function(){return i()},children:a?Object(y.jsx)(U,{handleLogout:l}):Object(y.jsx)(H,{handleLogin:c,handleUsuarioLogado:function(e){return m(e)}})})]})]})};var ae=function(){var e=o.a.useState(!1),n=Object(r.a)(e,2),a=n[0],t=n[1],i=o.a.useState(!1),c=Object(r.a)(i,2),s=c[0],d=c[1];return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(F,{handleOpen:function(){return d(!0)},loggedIn:a}),a?Object(y.jsx)("div",{children:Object(y.jsx)(l.a,{sx:{overflow:"auto"},children:Object(y.jsx)(l.a,{sx:{width:"100%",display:"table",tableLayout:"fixed"},children:Object(y.jsx)(N,{})})})}):Object(y.jsx)("div",{className:"center",children:Object(y.jsx)("img",{alt:"Logo da PCSC",src:B,width:"115",height:"145"})}),Object(y.jsx)(ne,{open:s,loggedIn:a,handleClose:function(){return d(!1)},handleLogin:function(){return t(!0)},handleLogout:function(){return t(!1)}})]})},te=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1175)).then((function(n){var a=n.getCLS,t=n.getFID,o=n.getFCP,i=n.getLCP,c=n.getTTFB;a(e),t(e),o(e),i(e),c(e)}))};c.a.createRoot(document.getElementById("root")).render(Object(y.jsx)(o.a.StrictMode,{children:Object(y.jsx)(ae,{})})),te()}},[[929,1,2]]]);
//# sourceMappingURL=main.b70abd9d.chunk.js.map